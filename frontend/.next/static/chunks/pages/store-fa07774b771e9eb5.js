(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[829],{77075:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/store",function(){return e(90184)}])},39594:function(t,n,e){"use strict";e.d(n,{_q:function(){return d}});var r=e(47568),i=e(26042),c=e(70655),a=e(55738),s=e(34155),o=function(){var t=(0,r.Z)((function(){var t;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return t={},s.env.FEATURED_PRODUCTS?t.id=s.env.FEATURED_PRODUCTS:t.limit=3,[4,a.pZ.products.list(t).then((function(t){return t.products})).catch((function(t){return[]}))];case 1:return[2,n.sent()]}}))}));return function(){return t.apply(this,arguments)}}(),u=function(){var t=(0,r.Z)((function(){var t,n,e;return(0,c.__generator)(this,(function(r){switch(r.label){case 0:return t=0,[4,a.pZ.collections.list({limit:15}).then((function(n){var e=n.collections,r=n.count;return t=r,e})).catch((function(t){}))];case 1:return n=r.sent(),[4,o()];case 2:return e=r.sent(),[2,{navData:{hasMoreCollections:t>15,collections:(null===n||void 0===n?void 0:n.map((function(t){return{id:t.id,title:t.title}})))||[],featuredProducts:e}}]}}))}));return function(){return t.apply(this,arguments)}}(),l=(function(){var t=(0,r.Z)((function(){return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return[4,u()];case 1:return[2,{site:t.sent()}]}}))}))}(),function(){var t=(0,r.Z)((function(t){var n,e;return(0,c.__generator)(this,(function(r){switch(r.label){case 0:return[4,a.pZ.products.list({handle:t}).then((function(t){return t.products}))];case 1:if(n=r.sent(),!(e=n[0]))throw new Error("Product with handle ".concat(t," not found"));return[2,{page:{data:e}}]}}))}))}(),function(){var t=(0,r.Z)((function(t){return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,a.pZ.products.list({collection_id:[t],limit:10}).then((function(t){var n=t.products,e=t.count;return{initialProducts:n,count:e,hasMore:e>10}})).catch((function(t){return{initialProducts:[],count:0,hasMore:!1}}))];case 1:return[2,n.sent()]}}))}));return function(n){return t.apply(this,arguments)}}()),d=(function(){var t=(0,r.Z)((function(t){var n,e,r;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return[4,u()];case 1:return n=i.sent(),[4,a.pZ.collections.retrieve(t).then((function(t){return t.collection})).catch((function(){}))];case 2:if(!(e=i.sent()))throw new Error("Collection with handle ".concat(t," not found"));return[4,l(t)];case 3:return r=i.sent(),[2,{page:{data:e,additionalData:r},site:n}]}}))}))}(),function(){var t=(0,r.Z)((function(t){var n,e,r,s,o,u,l;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return n=t.pageParam,e=void 0===n?0:n,r=t.queryParams,[4,a.pZ.products.list((0,i.Z)({limit:12,offset:e},r))];case 1:return s=c.sent(),o=s.products,u=s.count,l=s.offset,[2,{response:{products:o,count:u},nextPage:u>l+12?l+12:null}]}}))}));return function(n){return t.apply(this,arguments)}}())},90184:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return w}});var r=e(85893),i=e(63269),c=e(18481),a=e(26042),s=e(39594),o=e(42984),u=e(217),l=e(61692),d=e(38948),f=e(15986),h=e(87786),p=e(67294),m=e(97650),v=e(59403),x=function(t){var n=t.params,e=(0,h.jD1)().cart,i=(0,m.YD)(),c=i.ref,x=i.inView,g=(0,p.useMemo)((function(){var t={};return(null===e||void 0===e?void 0:e.id)&&(t.cart_id=e.id),t.is_giftcard=!1,(0,a.Z)({},t,n)}),[null===e||void 0===e?void 0:e.id,n]),_=(0,v.N)(["infinite-products-store",g,e],(function(t){var n=t.pageParam;return(0,s._q)({pageParam:n,queryParams:g})}),{getNextPageParam:function(t){return t.nextPage}}),Z=_.data,j=_.hasNextPage,w=_.fetchNextPage,N=_.isLoading,P=_.isFetchingNextPage,y=(0,o.Z)({pages:null===Z||void 0===Z?void 0:Z.pages,region:null===e||void 0===e?void 0:e.region});return(0,p.useEffect)((function(){x&&j&&w()}),[x,j]),(0,r.jsxs)("div",{className:"flex-1 content-container",children:[(0,r.jsxs)("ul",{className:"grid grid-cols-2 small:grid-cols-3 medium:grid-cols-4 gap-x-4 gap-y-8 flex-1",children:[y.map((function(t){return(0,r.jsx)("li",{children:(0,r.jsx)(d.Z,(0,a.Z)({},t))},t.id)})),N&&!y.length&&(0,l.Z)(8).map((function(t){return(0,r.jsx)("li",{children:(0,r.jsx)(f.Z,{})},t)})),P&&(0,l.Z)((0,u.Z)(null===Z||void 0===Z?void 0:Z.pages)).map((function(t){return(0,r.jsx)("li",{children:(0,r.jsx)(f.Z,{})},t)}))]}),(0,r.jsx)("div",{className:"py-16 flex justify-center items-center text-small-regular text-gray-700",ref:c,children:(0,r.jsx)("span",{ref:c})})]})},g=e(69396),_=e(29815),Z=function(t){var n=t.refinementList,e=t.setRefinementList,i=(0,h.bXJ)(),c=i.collections;i.isLoading;return(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"px-8 py-4 small:pr-0 small:pl-8 small:min-w-[250px]",children:(0,r.jsxs)("div",{className:"flex gap-x-3 small:flex-col small:gap-y-3",children:[(0,r.jsx)("span",{className:"text-base-semi",children:"Collections"}),(0,r.jsx)("ul",{className:"text-base-regular flex items-center gap-x-4 small:grid small:grid-cols-1 small:gap-y-2",children:null===c||void 0===c?void 0:c.map((function(t){var i;return(0,r.jsx)("li",{children:(0,r.jsxs)("label",{className:"flex items-center gap-x-2",children:[(0,r.jsx)("input",{type:"checkbox",defaultChecked:null===(i=n.collection_id)||void 0===i?void 0:i.includes(t.id),onChange:function(r){return function(t,r){var i=t.target.checked,c=n.collection_id||[],s=c.includes(r);!i||s?i||!s||e((0,g.Z)((0,a.Z)({},n),{collection_id:c.filter((function(t){return t!==r}))})):e((0,g.Z)((0,a.Z)({},n),{collection_id:(0,_.Z)(c).concat([r])}))}(r,t.id)},className:"accent-amber-200"}),t.title]})},t.id)}))})]})})})},j=function(){var t=(0,p.useState)({}),n=t[0],e=t[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{title:"Store",description:"Explore all of our products."}),(0,r.jsxs)("div",{className:"flex flex-col small:flex-row small:items-start py-6",children:[(0,r.jsx)(Z,{refinementList:n,setRefinementList:e}),(0,r.jsx)(x,{params:n})]})]})};j.getLayout=function(t){return(0,r.jsx)(c.Z,{children:t})};var w=j}},function(t){t.O(0,[662,652,415,475,632,700,774,888,179],(function(){return n=77075,t(t.s=n);var n}));var n=t.O();_N_E=n}]);